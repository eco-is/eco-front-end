<div id="edit-profile">
    <h1>Edit My Profile</h1>
    <div id="profile-info-div">
        <div id="picture-div">
            <img src="../../../../assets/images/profile.jpg" alt="profile picture">
        </div>
    
        <div *ngIf="user && user.username !== ''" id="info-div">
            <h1>{{userInfo?.username}}</h1>
            <h3>{{userInfo?.role}}</h3>
            <form [formGroup]="formGroup" (ngSubmit)="profileUpdate()">
                <div class="form">
                    <mat-form-field>
                        <mat-label>Email</mat-label>
                        <input matInput formControlName="email" type="email" />
                        <mat-error *ngIf="formGroup.value.email === ''">* Email is required!</mat-error>
                    </mat-form-field>
                    <label >For password change, please input old password first</label>
                    <label *ngIf="!passwordsMatch()" class="password-label">* Passwords must match!</label>
                    <div class="one-row">
                        <mat-form-field class="math-field-one-row">
                            <mat-label>Old password</mat-label>    
                            <input matInput formControlName="oldPassword" type="password" />
                        </mat-form-field>
                        <mat-form-field class="math-field-one-row">
                            <mat-label>New Password</mat-label>
                            <input matInput formControlName="password" type="password" />
                        </mat-form-field>
                        <mat-form-field class="math-field-one-row">
                            <mat-label>Confirm New Password</mat-label>
                            <input matInput formControlName="confirmPassword" type="password" />
                        </mat-form-field>
                    </div>
                    <div class="one-row">
                        <mat-form-field class="math-field-one-row">
                            <mat-label>First Name</mat-label>
                            <input matInput formControlName="name" type="text" />
                            <mat-error *ngIf="formGroup.value.name === ''">* First Name is required!</mat-error>
                        </mat-form-field>
                        <mat-form-field class="math-field-one-row">
                            <mat-label>Last Name</mat-label>
                            <input matInput formControlName="surname" type="text" />
                            <mat-error *ngIf="formGroup.value.surname === ''">* Last Name is required!</mat-error>
                        </mat-form-field>
                    </div>
                    <div class="phone-input-container">
                        <div>
                            <label>Phone Number</label>
                            <input matInput formControlName="phoneNumber" type="tel" id="phone" class="phone-input"/>
                        </div>
                    </div>
                    <div class="one-row">
                        <mat-form-field class="math-field-one-row">
                            <mat-label>Birthday</mat-label>
                            <input matInput formControlName="dateOfBirth" type="date" />
                        </mat-form-field>
                        <mat-form-field class="math-field-one-row">
                            <mat-label>Gender</mat-label>
                            <mat-select formControlName="gender" placeholder="Select Gender">
                                <mat-option *ngFor="let gender of genders" [value]="gender">{{ gender }}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <button color="primary" type="submit" mat-raised-button (click)="profileUpdate()" [disabled]="isButtonDisabled">Save changes</button>
                </div>
            </form>
        </div>
    </div>
</div>